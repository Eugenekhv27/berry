<div class="card">
  <h2>Удовлетворенность участников бонусной программы</h2>
  <div class="ui-g">
    <div class="ui-g-12">
      <div class="ui-g">
        <div class="ui-g-3">
          <label>С: </label>
          <p-calendar readonlyInput="true" [locale]="reportData.settings.calendarLocale" dateFormat="dd.mm.yy" [(ngModel)]="reportData.beginDate" (onSelect)="getMainReport()"
            [showIcon]="true"></p-calendar>
        </div>
        <div class="ui-g-3">
          <label>по: </label>
          <p-calendar readonlyInput="true" [locale]="reportData.settings.calendarLocale" dateFormat="dd.mm.yy" [(ngModel)]="reportData.endDate" (onSelect)="getMainReport()"
            [showIcon]="true"></p-calendar>
        </div>
      </div>
      <div class="ui-g">
        <div class="ui-g-12">
          <p-dataTable #reportTable [value]="reportData.table.body" selectionMode="single" (onRowDblclick)="getDetails(reportTable.selection)"
            [responsive]="true" [paginator]="true" [loading]="loading" loadingIcon="fa-spinner" [rows]="reportData.settings.maxRowsPerPage">
            <p-column field="phone" header="Участник" [style]="{'text-align':'center'}">
            </p-column>
            <p-column field="money" header="Всего покупок, руб" [style]="{'text-align': 'right'}">
              <ng-template let-rd="rowData" pTemplate="body">
                <span>{{ rd.money | number: '1.2-2' }}</span>
              </ng-template>
            </p-column>
            <p-column field="balance" header="Баланс баллов" [style]="{'text-align': 'right'}">
              <ng-template let-rd="rowData" pTemplate="body">
                <span>{{ rd.balance | number: '1.0-0' }}</span>
              </ng-template>
            </p-column>
            <p-column field="minusPoints" header="Списано баллов" [style]="{'text-align': 'right'}">
              <ng-template let-rd="rowData" pTemplate="body">
                <span>{{ rd.minusPoints | number: '1.0-0' }}</span>
              </ng-template>
            </p-column>
            <p-column field="ratedPurchases" header="Кол-во отзывов" [style]="{'text-align': 'right'}">
              <ng-template let-rd="rowData" pTemplate="body">
                <span>{{ rd.ratedPurchases | number: '1.0-0' }}</span>
              </ng-template>
            </p-column>
            <p-column field="averageRating" header="Средний рейтинг" [style]="{'text-align': 'right'}">
              <ng-template let-rd="rowData" pTemplate="body">
                <span>{{ rd.averageRating | number: '1.1-1' }}</span>
              </ng-template>
            </p-column>
          </p-dataTable>
        </div>
      </div>
    </div>
  </div>
</div>
